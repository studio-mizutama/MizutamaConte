(this["webpackJsonpmizutama-conte"]=this["webpackJsonpmizutama-conte"]||[]).push([[0],{233:function(e,n,t){"use strict";t.r(n);var i,r,c,a,o,s,l,d,u,j,b,v,h,m,p,x,O,g,f,w,z,y,k,C,S,L,I,E,F,W,P,T,A,B,M,N,H,D,Q,G,R=t(11),V=t.n(R),K=t(34),X=t.n(K),J=t(12),U=t(21),Z=t(235),Y=t(67),q=t(234),$=t(13),_=Object($.a)(i||(i=Object(J.a)(["\n  html {\n    height: 100%;\n    overflow: hidden;\n  }\n  body {\n    height: 100%;\n    overflow: hidden;\n    margin: 0;\n    padding: 0\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n  }\n  button {\n    -webkit-app-region: no-drag;\n  }\n  div.hover {\n   :hover {\n     background-color: var(--spectrum-alias-highlight-hover);\n   }\n  }\n  textarea.hover {\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n      border: 1px solid var(--spectrum-alias-border-color-hover);\n      border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n    }\n  }\n  div.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n  }\n  li.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n  a {\n    cursor: default;\n    color: var(--spectrum-alias-text-color);\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n    }\n  }\n"]))),ee=t(6),ne=t(236),te=t(85),ie=t(25),re=t(102),ce=t.n(re),ae=t(103),oe=t.n(ae),se=t(104),le=t.n(se),de=t(41),ue=t(1),je=$.b.div(r||(r=Object(J.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: var(--spectrum-global-dimension-size-85, var(--spectrum-alias-size-85));\n"]))),be=function(){var e=Object(R.useGlobal)("tool"),n=Object(ee.a)(e,2),t=n[0],i=n[1],r=function(){document.activeElement.blur()};return Object(de.a)("v",(function(){i(new Set(["Select"])),r()})),Object(de.a)("c",(function(){i(new Set(["Crop"])),r()})),Object(de.a)("t",(function(){i(new Set(["Text"])),r()})),Object(ue.jsx)(je,{children:Object(ue.jsxs)(ne.a,{orientation:"vertical",selectionMode:"single",isQuiet:!0,isEmphasized:!0,selectedKeys:t,onSelectionChange:i,children:[Object(ue.jsxs)(te.b,{placement:"end",children:[Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(ce.a,{})},"Select"),Object(ue.jsx)(te.a,{children:"Select (V)"})]}),Object(ue.jsxs)(te.b,{placement:"end",children:[Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(oe.a,{})},"Crop"),Object(ue.jsx)(te.a,{children:"Crop (C)"})]}),Object(ue.jsxs)(te.b,{placement:"end",children:[Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(le.a,{})},"Text"),Object(ue.jsx)(te.a,{children:"Text (T)"})]})]})})},ve=t(9),he=t.n(ve),me=t(26),pe=t(237),xe=t(28),Oe=t(134),ge=t(60),fe=t(111),we=t.n(fe),ze=t(112),ye=t.n(ze),ke=t(113),Ce=t.n(ke),Se=t(114),Le=t.n(Se),Ie=t(115),Ee=t.n(Ie),Fe=t(116),We=t.n(Fe),Pe=t(117),Te=t.n(Pe),Ae=t(118),Be=t.n(Ae),Me=t(119),Ne=t.n(Me),He=t(69),De=t(0),Qe=window.api,Ge=window.api,Re=$.b.div(c||(c=Object(J.a)(["\n  -webkit-app-region: drag;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ve=$.b.div(a||(a=Object(J.a)(["\n  -webkit-app-region: no-drag;\n"]))),Ke=$.b.div(o||(o=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  ","\n  margin-right: auto;\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&Ge?"margin-left: var(--spectrum-global-dimension-size-800, var(--spectrum-alias-size-800));":"margin-left: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));"),Xe=$.b.div(s||(s=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  ","\n  ","\n"])),-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Ge?"margin-right: 0;":"margin-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));",-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&Ge&&"&::before {\n    content: '';\n    padding-left: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  }"),Je=$.b.div(l||(l=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: var(--spectrum-global-dimension-size-400, var(--spectrum-alias-size-400));\n  margin-right: 0;\n  padding: 0;\n"]))),Ue=$.b.svg(d||(d=Object(J.a)(["\n  padding: 0;\n  margin: 0;\n  fill: none;\n  stroke: var(--spectrum-alias-text-color);\n  path {\n    fill: none;\n    stroke: var(--spectrum-alias-text-color);\n  }\n  rect {\n    fill: none;\n    stroke: var(--spectrum-alias-text-color);\n  }\n"]))),Ze=$.b.div(u||(u=Object(J.a)(["\n  padding: 0;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 40px;\n  width: 40px;\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n  }\n"]))),Ye=$.b.div(j||(j=Object(J.a)(["\n  padding: 0;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 40px;\n  width: 40px;\n  :hover {\n    background-color: var(--spectrum-semantic-negative-color-border);\n    margin-right: -1px;\n    border-right: 1px solid var(--spectrum-semantic-negative-color-border);\n    path {\n      fill: none;\n      stroke: var(--spectrum-global-color-static-gray-200);\n    }\n    rect {\n      fill: none;\n      stroke: var(--spectrum-global-color-static-gray-200);\n    }\n  }\n"]))),qe=function(){var e=Object(R.useGlobal)("mode"),n=Object(ee.a)(e,2),t=n[0],i=n[1],r=function(){document.activeElement.blur()};return Object(de.a)("e",(function(){i("Edit"),r()})),Object(de.a)("p",(function(){i("Preview"),r()})),Object(ue.jsx)(pe.b,{width:"fit-content",selectedKey:t,onSelectionChange:i,children:Object(ue.jsxs)(pe.a,{maxHeight:"size-500",children:[Object(ue.jsxs)(ie.a,{children:[Object(ue.jsx)(ye.a,{}),Object(ue.jsx)(xe.b,{children:"Edit"})]},"Edit"),Object(ue.jsxs)(ie.a,{children:[Object(ue.jsx)(Ce.a,{}),Object(ue.jsx)(xe.b,{children:"Preview"})]},"Preview")]})})},$e=function(){var e=Object(R.useState)(""),n=Object(ee.a)(e,2),t=n[0],i=n[1],r=Object(R.useGlobal)("globalFileName")[0];return Object(R.useEffect)((function(){return function(){var e=Object(me.a)(he.a.mark((function e(){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ge){e.next=4;break}return i(r),e.abrupt("return");case 4:return e.next=6,Ge.loadFileName();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){Ge.removeFileName()}}),[r,i]),Object(ue.jsx)(Oe.a,{isQuiet:!0,menuWidth:"size-3400","max-width":"fit-content",selectedKey:t,onSelectionChange:i,children:Object(ue.jsxs)(ie.a,{children:[Object(ue.jsx)(Te.a,{}),Object(ue.jsx)(xe.b,{children:t})]},t)})},_e=function(){var e=Object(R.useGlobal)("globalCuts")[1],n=Object(R.useGlobal)("globalPsds")[1],t=Object(R.useGlobal)("globalFileName")[1];Object(R.useEffect)((function(){var e=document.getElementById("inputDirectory");e&&e.setAttribute("webkitdirectory",""),e&&e.setAttribute("directory",""),e&&e.setAttribute("multiple","")}),[]);var i=function(e,n){var t=Object(De.useState)(e),i=Object(ee.a)(t,2),r=i[0],c=i[1],a=Object(De.useState)(n),o=Object(ee.a)(a,2);return[r,c,o[0],o[1]]}(!1,!1),r=Object(ee.a)(i,4),c=r[0],a=r[1],o=r[3],s=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.minimize();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!c),e.next=3,Ge.maximize();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!c),e.next=3,Ge.restore();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.close();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,n){Object(De.useEffect)((function(){return-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.resized(Object(me.a)(he.a.mark((function n(){return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e(!1));case 1:case"end":return n.stop()}}),n)})))),function(){-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.removeResized()}}),[e]),Object(De.useEffect)((function(){return-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.getFocus(Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(!1));case 1:case"end":return e.stop()}}),e)})))),function(){-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.removeGetFocus()}}),[n]),Object(De.useEffect)((function(){return-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.getBlur(Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(!0));case 1:case"end":return e.stop()}}),e)})))),function(){-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.removeGetBlur()}})),Object(De.useEffect)((function(){return-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.maximized(Object(me.a)(he.a.mark((function n(){return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e(!0));case 1:case"end":return n.stop()}}),n)})))),function(){-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.removeMaximized()}}),[e]),Object(De.useEffect)((function(){return-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.unMaximized(Object(me.a)(he.a.mark((function n(){return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e(!1));case 1:case"end":return n.stop()}}),n)})))),function(){-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Qe&&Qe.removeUnMaximized()}}),[e])}(a,o),Object(ue.jsxs)(Re,{children:[Object(ue.jsxs)(Ke,{children:[!Ge&&Object(ue.jsxs)(ge.a,{isQuiet:!0,onPress:function(){var e;return null===(e=document.getElementById("inputDirectory"))||void 0===e?void 0:e.click()},children:[Object(ue.jsx)(Be.a,{}),Object(ue.jsx)("input",{type:"file",style:{display:"none"},id:"inputDirectory",onChange:function(i){var r=i.target.files,c=Array.from(r),a=c.filter((function(e){return-1!==e.name.indexOf(".psd")})),o=c.filter((function(e){return-1!==e.name.indexOf(".json")}))[0],s=a.slice().sort((function(e,n){return Number.parseInt(e.name.slice(1,4))-Number.parseInt(n.name.slice(1,4))}));t(o.name);var l=function(e){return new Promise((function(n){var t=new FileReader;t.onload=function(){n(t.result)},t.readAsArrayBuffer(e)}))};Object(me.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,s.reduce(function(){var e=Object(me.a)(he.a.mark((function e(n,i){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.then(Object(me.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=He.readPsd,e.next=4,l(i);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.push.call(e.t0,e.t3);case 7:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Promise.resolve());case 3:n(t);case 4:case"end":return e.stop()}}),e)})))(),new Promise((function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsText(o,"utf8")})).then((function(n){return e(JSON.parse(n))}))}})]}),-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Ge&&Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:function(){Ge.contextMenu()},children:Object(ue.jsx)(Ne.a,{})}),Object(ue.jsx)(ge.a,{isQuiet:!0,marginX:"size-200",children:Object(ue.jsx)(we.a,{})}),Object(ue.jsx)(Ve,{children:Object(ue.jsx)(qe,{})})]}),Object(ue.jsx)($e,{}),Object(ue.jsxs)(Xe,{children:[Object(ue.jsxs)(ne.a,{isQuiet:!0,children:[Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(Le.a,{})},"Share"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(Ee.a,{})},"Branch2"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(We.a,{})},"Settings")]}),-1===window.navigator.userAgent.toLowerCase().indexOf("mac")&&Ge&&Object(ue.jsxs)(Je,{children:[Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:s,children:Object(ue.jsx)(Ze,{children:Object(ue.jsx)(Ue,{width:"10",height:"1",viewBox:"0 0 10 1",fill:"none",xmlns:"http://www.w3.org/2000/Button",children:Object(ue.jsx)("rect",{width:"10",height:"1"})})})}),c?Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:d,children:Object(ue.jsx)(Ze,{children:Object(ue.jsxs)(Ue,{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/Button",children:[Object(ue.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 1H3V2H2V1V0H3H9H10V1V7V8H9H8V7H9V1Z"}),Object(ue.jsx)("rect",{x:"0.5",y:"2.5",width:"7",height:"7"})]})})}):Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:l,children:Object(ue.jsx)(Ze,{children:Object(ue.jsx)(Ue,{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/Button",children:Object(ue.jsx)("rect",{x:"0.5",y:"0.5",width:"9",height:"9"})})})}),Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:u,children:Object(ue.jsx)(Ye,{children:Object(ue.jsxs)(Ue,{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/Button",children:[Object(ue.jsx)("path",{d:"M1 11L11 1"}),Object(ue.jsx)("path",{d:"M1 1L11 11"})]})})})]})]})]})},en=t(121),nn=t.n(en),tn=t(122),rn=t.n(tn),cn=t(123),an=t.n(cn),on=t(124),sn=t.n(on),ln=t(73),dn=t.n(ln),un=t(238),jn=$.b.p(b||(b=Object(J.a)(["\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),bn=$.b.div(v||(v=Object(J.a)(["\n  width: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),vn=$.b.div(h||(h=Object(J.a)(["\n  width: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),hn=$.b.div(m||(m=Object(J.a)(["\n  width: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),mn=function(){var e,n,t,i,r=Object(R.useGlobal)("cut")[0];return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)(Y.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(ue.jsx)(bn,{children:"Fade In"}),Object(ue.jsxs)(Oe.a,{width:"184px",selectedKey:null===(e=r.action)||void 0===e?void 0:e.fadeIn,defaultSelectedKey:"None",children:[Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"None"})},"None"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"White In"})},"White In"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"Black In"})},"Black In"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"Cross"})},"Cross")]}),Object(ue.jsx)(un.a,{label:"Duration",maxValue:480,value:null===(n=r.action)||void 0===n?void 0:n.fadeInDuration,width:"256px"}),Object(ue.jsx)(bn,{children:"Fade Out"}),Object(ue.jsxs)(Oe.a,{width:"184px",selectedKey:null===(t=r.action)||void 0===t?void 0:t.fadeOut,defaultSelectedKey:"None",children:[Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"None"})},"None"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"White Out"})},"White Out"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"Black Out"})},"Black Out"),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(xe.b,{children:"Cross"})},"Cross")]}),Object(ue.jsx)(un.a,{label:"Duration",maxValue:480,value:null===(i=r.action)||void 0===i?void 0:i.fadeOutDuration,width:"256px"})]})})},pn=t(239),xn=function(){var e,n,t,i,r,c,a,o,s,l,d,u,j,b,v,h,m,p,x=Object(R.useGlobal)("cut")[0];return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(jn,{children:"Position"}),Object(ue.jsxs)(Y.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(ue.jsx)(vn,{children:"In"}),Object(ue.jsx)(hn,{children:"X"}),Object(ue.jsx)(pn.b,{width:"68px",isQuiet:!0,value:(null===(e=x.cameraWork)||void 0===e?void 0:e.position)?null===(n=x.cameraWork)||void 0===n||null===(t=n.position)||void 0===t?void 0:t.in.x.toString():""}),Object(ue.jsx)(hn,{children:"Y"}),Object(ue.jsx)(pn.b,{width:"68px",isQuiet:!0,value:(null===(i=x.cameraWork)||void 0===i?void 0:i.position)?null===(r=x.cameraWork)||void 0===r||null===(c=r.position)||void 0===c?void 0:c.in.y.toString():""}),Object(ue.jsx)(vn,{children:"Out"}),Object(ue.jsx)(hn,{children:"X"}),Object(ue.jsx)(pn.b,{width:"68px",isQuiet:!0,value:(null===(a=x.cameraWork)||void 0===a?void 0:a.position)?null===(o=x.cameraWork)||void 0===o||null===(s=o.position)||void 0===s?void 0:s.out.x.toString():""}),Object(ue.jsx)(hn,{children:"Y"}),Object(ue.jsx)(pn.b,{width:"68px",isQuiet:!0,value:(null===(l=x.cameraWork)||void 0===l?void 0:l.position)?null===(d=x.cameraWork)||void 0===d||null===(u=d.position)||void 0===u?void 0:u.out.y.toString():""}),Object(ue.jsx)(vn,{children:"Scale"}),Object(ue.jsx)(hn,{children:"In"}),Object(ue.jsx)(pn.b,{width:"68px",isQuiet:!0,value:(null===(j=x.cameraWork)||void 0===j?void 0:j.scale)?null===(b=x.cameraWork)||void 0===b||null===(v=b.scale)||void 0===v?void 0:v.in.toString():""}),Object(ue.jsx)(hn,{children:"Out"}),Object(ue.jsx)(pn.b,{width:"68px",isQuiet:!0,value:(null===(h=x.cameraWork)||void 0===h?void 0:h.scale)?null===(m=x.cameraWork)||void 0===m||null===(p=m.scale)||void 0===p?void 0:p.out.toString():""})]})]})},On=t(125),gn=t.n(On),fn=t(126),wn=t.n(fn),zn=$.b.div(p||(p=Object(J.a)(["\n  width: 100%;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),yn=$.b.input(x||(x=Object(J.a)(["\n  display: none;\n"]))),kn=$.b.ul(O||(O=Object(J.a)(["\n  padding-left: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  margin: 0;\n"]))),Cn=function(e){var n=e.labelFor,t=e.children;return Object(ue.jsx)(zn,{children:Object(ue.jsx)("label",{htmlFor:n,children:t})})},Sn=function(e){var n=e.labelName,t=e.children,i=Object(R.useState)(!1),r=Object(ee.a)(i,2),c=r[0],a=r[1];return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(yn,{type:"checkbox",id:n,checked:c,onChange:function(){return a(!c)}}),Object(ue.jsx)(Cn,{labelFor:n,children:Object(ue.jsxs)(Y.a,{direction:"row",gap:"size-100",alignItems:"center",children:[c?Object(ue.jsx)(wn.a,{size:"S"}):Object(ue.jsx)(gn.a,{size:"S"}),Object(ue.jsx)(xe.b,{children:n})]})}),Object(ue.jsx)(kn,{style:{display:"".concat(c?"block":"none")},children:t})]})},Ln=$.b.li(g||(g=Object(J.a)(["\n  list-style: none;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  ::before {\n    content: '';\n    width: var(--spectrum-global-dimension-size-225, var(--spectrum-alias-size-225));\n    padding-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  }\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),In=window.api,En=$.b.a(f||(f=Object(J.a)(["\n  text-decoration: none;\n  display: inline-block;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]))),Fn=function(){var e={picture:{width:1,height:1}},n=Object(R.useState)([e]),t=Object(ee.a)(n,2),i=t[0],r=t[1],c=Object(R.useGlobal)("globalCuts")[0],a=Object(R.useGlobal)("cut")[1];return Object(R.useEffect)((function(){return function(){var e=Object(me.a)(he.a.mark((function e(){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,In){e.next=5;break}return r(c),e.abrupt("return");case 5:return e.next=7,In.loadJSON();case 7:n=e.sent,r(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}()(),function(){In.removeJSON()}}),[c,r]),Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)(Sn,{labelName:"Scene1",children:(null===i||void 0===i?void 0:i.length)>1&&(null===i||void 0===i?void 0:i.map((function(e,n){return Object(ue.jsx)(Ln,{onClick:function(){return a(e)},id:"List".concat(n+1),onMouseEnter:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(ue.jsxs)(En,{href:"#Cut".concat(n+1),children:["Cut",n+1]})},n)})))})})},Wn=t(127),Pn=t.n(Wn),Tn=$.b.div(w||(w=Object(J.a)(["\n  width: 118px;\n  height: var(--spectrum-global-dimension-size-1600, var(--spectrum-alias-size-1600));\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border: 1px solid var(--spectrum-alias-border-color);\n  background-color: var(--spectrum-alias-appframe-border-color);\n  display: flex;\n  flex-flow: column;\n  :hover {\n    color: var(--spectrum-alias-text-color-hover);\n    border-color: var(--spectrum-alias-border-color-hover);\n  }\n"]))),An=$.b.div(z||(z=Object(J.a)(["\n  height: 50%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Bn=Object($.b)(An)(y||(y=Object(J.a)(["\n  background-color: var(--spectrum-tray-background-color);\n  border-bottom-left-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border-bottom-right-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n"]))),Mn=function(e){var n,t=e.Title,i=e.Type,r={movie:Object(ue.jsx)(dn.a,{size:"S"}),audio:Object(ue.jsx)(Pn.a,{size:"S"})};return Object(ue.jsxs)(Tn,{children:[Object(ue.jsx)(An,{children:(n=i,r[n])}),Object(ue.jsx)(Bn,{children:Object(ue.jsx)(xe.b,{children:t})})]})},Nn=function(){return Object(ue.jsxs)(Y.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(ue.jsx)(Mn,{Title:"Title.mp4",Type:"movie"}),Object(ue.jsx)(Mn,{Title:"Credit.mp4",Type:"movie"}),Object(ue.jsx)(Mn,{Title:"BGM1.wav",Type:"audio"})]})},Hn=function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)(pn.a,{minWidth:"100%",width:"100%",marginTop:"size-200"})})},Dn=$.b.div(k||(k=Object(J.a)(["\n  padding-left: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-right: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-bottom: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  border-bottom: 2px solid var(--spectrum-alias-appframe-border-color);\n  user-select: none;\n  height: fit-content;\n  &:last-of-type {\n    overflow: auto;\n  }\n"]))),Qn=function(e){var n,t=e.Title,i=e.children,r={Transition:Object(ue.jsx)(nn.a,{size:"XS"}),"Camera Work":Object(ue.jsx)(rn.a,{size:"XS"}),Outline:Object(ue.jsx)(an.a,{size:"XS"}),Dialogue:Object(ue.jsx)(sn.a,{size:"XS"}),Media:Object(ue.jsx)(dn.a,{size:"XS"})};return Object(ue.jsxs)(Dn,{style:"Outline"===t?{maxHeight:"calc(100vh - 580px)"}:{maxHeight:"calc(100vh - 257px)"},children:[Object(ue.jsxs)(Y.a,{direction:"row",alignItems:"center",children:[(n=t,r[n]),Object(ue.jsx)(xe.a,{level:4,margin:"size-200",children:Object(ue.jsx)(xe.b,{children:t})})]}),i]})},Gn=function(){var e=Object(R.useGlobal)("mode")[0];return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)("div",{style:"Edit"===e?{display:"block",height:"100%",overflow:"hidden"}:{display:"none"},children:[Object(ue.jsx)(Qn,{Title:"Transition",children:Object(ue.jsx)(mn,{})}),Object(ue.jsx)(Qn,{Title:"Camera Work",children:Object(ue.jsx)(xn,{})}),Object(ue.jsx)(Qn,{Title:"Outline",children:Object(ue.jsx)(Fn,{})})]}),Object(ue.jsxs)("div",{style:"Preview"===e?{display:"block"}:{display:"none"},children:[Object(ue.jsx)(Qn,{Title:"Dialogue",children:Object(ue.jsx)(Hn,{})}),Object(ue.jsx)(Qn,{Title:"Media",children:Object(ue.jsx)(Nn,{})})]})]})},Rn=t(74),Vn=t(84),Kn=window.api,Xn=function(e){var n=Object(R.useState)([e]),t=Object(ee.a)(n,2),i=t[0],r=t[1],c=Object(R.useGlobal)("globalCuts")[0],a=Object(R.useGlobal)("globalPsds")[0];return Object(R.useEffect)((function(){return function(){var e=Object(me.a)(he.a.mark((function e(){var n,t,i,o,s,l,d,u,j,b,v;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var t=new Map(null===n||void 0===n?void 0:n.map((function(e,n){return[n,e]})));return null===e||void 0===e?void 0:e.map((function(e,n){return Object(Vn.a)(Object(Vn.a)({},e),t.get(n))}))},Kn){e.next=8;break}return i=c,o=null===(t=a)||void 0===t?void 0:t.map((function(e){return{picture:e}})),s=n(i,o),r(s),e.abrupt("return");case 8:return e.next=10,Kn.loadPSD();case 10:return l=e.sent,e.next=13,Kn.loadJSON();case 13:d=e.sent,u=null===l||void 0===l?void 0:l.map((function(e){return Object(He.readPsd)(e)})),j=d,b=null===u||void 0===u?void 0:u.map((function(e){return{picture:e}})),v=n(j,b),r(v);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){Kn.removePSD(),Kn.removeJSON()}}),[c,a,r]),i},Jn=$.b.div(C||(C=Object(J.a)(["\n  height: calc(100vh - 82px);\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]))),Un=$.b.textarea(S||(S=Object(J.a)(["\n  position: absolute;\n  top: 2px;\n  height: calc(100% - 4px);\n  width: calc(100% - 4px);\n  resize: none;\n  background: none;\n  margin: 0;\n  padding: 0;\n  border: none;\n\n  :focus {\n    outline: 2px solid var(--spectrum-alias-border-color-focus);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),Zn=$.b.div(L||(L=Object(J.a)(["\n  color: var(--spectrum-semantic-positive-color-border);\n  border: 2px solid var(--spectrum-semantic-positive-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 2;\n"]))),Yn=$.b.div(I||(I=Object(J.a)(["\n  color: var(--spectrum-semantic-negative-color-border);\n  border: 2px solid var(--spectrum-semantic-negative-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 3;\n"]))),qn=$.b.svg(E||(E=Object(J.a)(["\n  padding: 0;\n  margin: 0;\n  stroke: none;\n  fill: var(--spectrum-alias-text-color);\n  position: absolute;\n  left: calc((100% - 96px) / 2);\n"]))),$n=function(e){var n=e.action,t=e.dialogue,i=e.time,r=e.timeSum,c=Object(R.useGlobal)("tool")[0],a=function(e){var n=document.activeElement;"Escape"===e.key&&n.blur()};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(q.a,{gridArea:"action",width:"100%",position:"relative",height:"auto",children:[Object(ue.jsx)(Un,{className:c.has("Text")?"hover":"",disabled:!c.has("Text"),onKeyDown:a,value:"".concat((null===n||void 0===n?void 0:n.fadeIn)?null===n||void 0===n?void 0:n.fadeIn:"","\n").concat((null===n||void 0===n?void 0:n.fadeInDuration)?null===n||void 0===n?void 0:n.fadeInDuration:"","\n").concat((null===n||void 0===n?void 0:n.fadeOut)?null===n||void 0===n?void 0:n.fadeOut:"","\n").concat((null===n||void 0===n?void 0:n.fadeOutDuration)?null===n||void 0===n?void 0:n.fadeOutDuration:"","\n").concat((null===n||void 0===n?void 0:n.text)?null===n||void 0===n?void 0:n.text:"","\n")}),(null===n||void 0===n?void 0:n.fadeIn)&&Object(ue.jsx)(qn,{viewBox:"0 0 96 48",width:"96px",children:Object(ue.jsx)("path",{d:"M48,2.83,91.17,46H4.83L48,2.83M48,0,0,48H96L48,0Z"})}),(null===n||void 0===n?void 0:n.fadeOut)&&Object(ue.jsx)(qn,{viewBox:"0 0 96 48",width:"96px",style:{bottom:0},children:Object(ue.jsx)("path",{d:"M91.17,2,48,45.17,4.83,2H91.17M96,0Zm0,0H0L48,48,96,0Z"})})]}),Object(ue.jsx)(q.a,{gridArea:"dialogue",width:"100%",position:"relative",height:"auto",children:Object(ue.jsx)(Un,{className:c.has("Text")?"hover":"",disabled:!c.has("Text"),onKeyDown:a,value:t})}),Object(ue.jsx)(q.a,{gridArea:"time",width:"100%",position:"relative",height:"auto",children:Object(ue.jsx)(Un,{className:c.has("Text")?"hover":"",disabled:!c.has("Text"),onKeyDown:a,value:"".concat(i>24?(i/24|0)+":"+("00"+i%24).slice(-2):("00"+i).slice(-2),"\n").concat(r>24?(r/24|0)+":"+("00"+r%24).slice(-2):("00"+r).slice(-2))})})]})},_n=window.api,et=function(){var e,n=Xn({picture:{width:1,height:1}});return Object(R.useEffect)((function(){_n&&(null===n||void 0===n||n.map((function(e,n){var t,i;return null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i||i.filter((function(e,n){return 0!==n})).map((function(e){var t=document.getElementById("CC".concat(n+1,"PP").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(.12*i.width,"px"),t.innerHTML="",t.style.backgroundColor="#FFF",t.appendChild(i),0})),0})))}),[n]),Object(ue.jsxs)(ue.Fragment,{children:[!_n&&(null===n||void 0===n?void 0:n.length)>1&&!(null===(e=n[1])||void 0===e?void 0:e.picture)&&Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(ue.jsx)(Rn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(ue.jsx)(xe.a,{children:"Now Loading..."})]}),_n&&1===(null===n||void 0===n?void 0:n.length)&&Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(ue.jsx)(Rn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(ue.jsx)(xe.a,{children:"Now Loading..."})]}),(null===n||void 0===n?void 0:n.length)>1&&n.map((function(e,t){var i,r,c=n.slice(0,t+1).reduce((function(e,n){return n.time&&e+n.time}),0);return Object(ue.jsx)(q.a,{backgroundColor:"gray-100",children:Object(ue.jsx)("div",{className:"hover",id:"Cut".concat(t+1),onClick:function(){var e;return null===(e=document.getElementById("List".concat(t+1)))||void 0===e?void 0:e.click()},onMouseEnter:function(){var e;return null===(e=document.getElementById("List".concat(t+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("List".concat(t+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(ue.jsxs)(Y.b,{columns:["72px","288px","auto","auto","128px"],areas:["cut picture action dialogue time"],gap:"size-200",height:"auto",marginBottom:"size-25",children:[Object(ue.jsx)(q.a,{gridArea:"cut",width:"100%",height:"auto",children:Object(ue.jsx)(Y.a,{direction:"column",alignItems:"center",children:Object(ue.jsx)(xe.a,{children:("00"+(t+1)).slice(-3)})})}),Object(ue.jsx)(q.a,{gridArea:"picture",width:"100%",height:"auto",children:null===(i=e.picture)||void 0===i||null===(r=i.children)||void 0===r?void 0:r.filter((function(e,n){return 0!==n})).map((function(n){var i,r=null===(i=n.canvas)||void 0===i?void 0:i.toDataURL("image/png",.4);return Object(ue.jsxs)("div",{style:{height:"".concat(n.canvas&&.12*n.canvas.height,"px"),width:"".concat(n.canvas&&.12*n.canvas.width,"px"),position:"relative"},children:[Object(ue.jsx)("div",{style:{height:"".concat(n.canvas&&.12*n.canvas.height,"px"),width:"".concat(n.canvas&&.12*n.canvas.width,"px"),position:"relative",background:"".concat(_n?"none":"#FFF")},id:"CC".concat(t+1,"PP").concat(n.name),children:!_n&&Object(ue.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:r,alt:"cut"})}),e.cameraWork&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Zn,{style:{height:"".concat(129.6*e.cameraWork.scale.in,"px"),width:"".concat(230.4*e.cameraWork.scale.in,"px"),top:"".concat(n.canvas&&(.12*n.canvas.height-129.6*(e.cameraWork.scale.in-e.cameraWork.position.in.y))/2,"px"),left:"".concat(n.canvas&&(.12*n.canvas.width-230.4*(e.cameraWork.scale.in-e.cameraWork.position.in.x))/2,"px")},children:Object(ue.jsx)(xe.a,{level:4,margin:"size-25",children:"IN"})}),Object(ue.jsx)(Yn,{style:{height:"".concat(129.6*e.cameraWork.scale.out,"px"),width:"".concat(230.4*e.cameraWork.scale.out,"px"),top:"".concat(n.canvas&&(.12*n.canvas.height-129.6*(e.cameraWork.scale.out-e.cameraWork.position.out.y))/2,"px"),left:"".concat(n.canvas&&(.12*n.canvas.width-230.4*(e.cameraWork.scale.out-e.cameraWork.position.out.x))/2,"px")},children:Object(ue.jsx)(xe.a,{level:4,margin:"size-25",children:"OUT"})})]})]},"CC".concat(t+1,"PP").concat(n.name))}))}),Object(ue.jsx)($n,{action:null===e||void 0===e?void 0:e.action,dialogue:null===e||void 0===e?void 0:e.dialogue,time:null===e||void 0===e?void 0:e.time,timeSum:c})]})})},t)}))]})},nt=V.a.memo((function(){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(Y.b,{columns:["72px","288px","auto","auto","128px"],rows:["size-500"],height:"size-500",gap:"size-200",children:[Object(ue.jsx)(xe.a,{alignSelf:"center",justifySelf:"center",children:"CUT"}),Object(ue.jsx)(xe.a,{alignSelf:"center",justifySelf:"center",children:"PICTURE"}),Object(ue.jsx)(xe.a,{alignSelf:"center",justifySelf:"center",children:"ACTION"}),Object(ue.jsx)(xe.a,{alignSelf:"center",justifySelf:"center",children:"DIALOGUE"}),Object(ue.jsx)(xe.a,{alignSelf:"center",justifySelf:"center",children:"TIME"})]}),Object(ue.jsx)(Jn,{children:Object(ue.jsx)(et,{})})]})})),tt=t(128),it=t.n(tt),rt=t(129),ct=t.n(rt),at=t(130),ot=t.n(at),st=t(131),lt=t.n(st),dt=t(132),ut=t.n(dt),jt=t(133),bt=t.n(jt),vt=t(17),ht=window.api,mt=$.b.div(F||(F=Object(J.a)(["\n  position: absolute;\n  color: #2c2c2c;\n  z-index: 2;\n"]))),pt=$.b.div(W||(W=Object(J.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n"]))),xt=$.b.div(P||(P=Object(J.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Ot=Object($.b)(xt)(T||(T=Object(J.a)(["\n  position: absolute;\n"]))),gt=$.b.div(A||(A=Object(J.a)(["\n  height: 8px;\n  position: absolute;\n  border-left: 1px solid var(--spectrum-alias-text-color);\n"]))),ft=$.b.div(B||(B=Object(J.a)(["\n  height: 16px;\n  position: absolute;\n  top: 16px;\n"]))),wt=V.a.memo((function(e){var n,t=e.scale,i=Xn({picture:{width:1,height:1}}),r=Object(R.useState)(window.innerWidth-340),c=Object(ee.a)(r,2),a=c[0],o=c[1];window.addEventListener("resize",(function(){return o(window.innerWidth-340)})),Object(R.useEffect)((function(){ht&&(null===i||void 0===i||i.map((function(e,n){var t,i;return null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i||i.filter((function(e,n){return 0!==n})).map((function(e){var t=document.getElementById("CCC".concat(n+1,"PPP").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(.12*i.width,"px"),t.innerHTML="",t.style.backgroundColor="#FFF",t.appendChild(i),0})),0})))}),[i]);var s=(null===i||void 0===i?void 0:i.reduce((function(e,n){return n.time&&e+n.time}),0))||0,l=function(e,n){return Object(vt.a)(new Array(n-e).keys()).map((function(n){return n+e}))};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(xt,{style:{width:"".concat(a,"px")},children:l(0,s).filter((function(e){return e%(240/t)===0})).map((function(e){return Object(ue.jsx)(ft,{style:{left:"".concat(e*t+2,"px")},children:e>24?(e/24|0)+":"+("00"+e%24).slice(-2):("00"+e).slice(-2)},e)}))}),Object(ue.jsxs)(xt,{style:{width:"".concat(a,"px")},children:[l(0,s).filter((function(e){return e%(24/t|0)===0})).map((function(e){return Object(ue.jsx)(gt,{style:{left:"".concat(e*t,"px"),top:"32px",width:"24px"}},e)})),l(0,s).filter((function(e){return e%(240/t)===0})).map((function(e){return Object(ue.jsx)(gt,{style:{left:"".concat(e*t,"px"),top:"24px",width:"24px"}},e)}))]}),Object(ue.jsxs)(xt,{style:{width:"".concat(a,"px")},children:[!ht&&(null===i||void 0===i?void 0:i.length)>1&&!(null===(n=i[1])||void 0===n?void 0:n.picture)&&Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(ue.jsx)(Rn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(ue.jsx)(xe.a,{children:"Now Loading..."})]}),ht&&1===(null===i||void 0===i?void 0:i.length)&&Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(ue.jsx)(Rn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(ue.jsx)(xe.a,{children:"Now Loading..."})]}),(null===i||void 0===i?void 0:i.length)>1&&i.map((function(e,n){var r,c,a=i.slice(0,n).reduce((function(e,n){return n.time&&e+n.time}),0)||0,o=(null===e||void 0===e?void 0:e.time)||0;return Object(ue.jsxs)(Ot,{style:{left:"".concat(a*t,"px"),top:"40px",width:"".concat(o*t,"px"),overflow:"hidden"},children:[null===(r=e.picture)||void 0===r||null===(c=r.children)||void 0===c?void 0:c.filter((function(e,n){return 0!==n})).map((function(e){var t,i=null===(t=e.canvas)||void 0===t?void 0:t.toDataURL("image/png",.4);return Object(ue.jsx)("div",{style:{height:"".concat(e.canvas&&.12*e.canvas.height,"px"),width:"".concat(e.canvas&&.12*e.canvas.width,"px"),position:"relative"},children:Object(ue.jsx)("div",{style:{height:"".concat(e.canvas&&.12*e.canvas.height,"px"),width:"".concat(e.canvas&&.12*e.canvas.width,"px"),position:"relative",background:"".concat(ht?"none":"#FFF")},id:"CCC".concat(n+1,"PPP").concat(e.name),children:!ht&&Object(ue.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:i,alt:"cut"})})},"CCC".concat(n+1,"PPP").concat(e.name))})),Object(ue.jsx)(mt,{children:Object(ue.jsx)(xe.a,{level:4,margin:"size-25",children:"Cut".concat(("00"+(n+1)).slice(-3))})})]},n)}))]})]})})),zt=$.b.input(M||(M=Object(J.a)(["\n  position: absolute;\n  z-index: 3;\n  -webkit-appearance: none;\n  appearance: none;\n  outline: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  height: 16px;\n  &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    top: 0;\n    background: var(--spectrum-semantic-negative-color-border);\n    width: 2px;\n    height: 574px;\n  }\n"]))),yt=V.a.memo((function(e){var n,t=e.frame,i=e.timeTotal,r=e.setFrame,c=2*i,a=Object(R.useRef)(null),o=null!==(n=a.current)&&void 0!==n?n:document.createElement("div"),s=Object(R.useState)(o.scrollLeft),l=Object(ee.a)(s,2),d=l[0],u=l[1];return o.addEventListener("scroll",(function(){u(o.scrollLeft)})),Object(R.useEffect)((function(){var e=2*t-d;window.innerWidth-364<e&&o.scrollBy(window.innerWidth-364,0),e<0&&o.scrollBy(e,0)}),[t,d,o,c]),Object(ue.jsxs)(pt,{ref:a,children:[Object(ue.jsx)(wt,{scale:2}),Object(ue.jsx)(zt,{type:"range",id:"slide",value:t,min:"0",max:i,onChange:function(){var e=document.getElementById("slide")||document.createElement("input");r(Number.parseInt(e.value))},style:{width:"".concat(c,"px")}})]})})),kt=window.api,Ct=$.b.div(N||(N=Object(J.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: max-content;\n"]))),St=$.b.div(H||(H=Object(J.a)(["\n  width: 48px;\n  color: var(--spectrum-semantic-positive-color-border);\n  margin-left: 0;\n  margin-right: auto;\n"]))),Lt=$.b.div(D||(D=Object(J.a)(["\n  width: 48px;\n  color: var(--spectrum-semantic-negative-color-border);\n  margin-left: auto;\n  margin-right: 0;\n"]))),It=V.a.memo((function(){var e,n=Xn({picture:{width:1,height:1}}),t=Object(R.useState)(0),i=Object(ee.a)(t,2),r=i[0],c=i[1],a=Object(R.useState)(!1),o=Object(ee.a)(a,2),s=o[0],l=o[1],d=Object(R.useState)((window.innerWidth-340)/2400>(window.innerHeight-419)/1350?(window.innerHeight-419)/1350:(window.innerWidth-340)/2400),u=Object(ee.a)(d,2),j=u[0],b=u[1];window.addEventListener("resize",(function(){return b((window.innerWidth-340)/2400>(window.innerHeight-419)/1350?(window.innerHeight-419)/1350:(window.innerWidth-340)/2400)}));var v=window.performance&&performance.now,h=(null===n||void 0===n?void 0:n.reduce((function(e,n){return n.time&&e+n.time}),0))||0,m=Object(R.useRef)(0),p=Object(R.useRef)(0),x=Object(R.useCallback)((function(){cancelAnimationFrame(m.current),l(!1),c(0)}),[]),O=Object(R.useCallback)((function(){cancelAnimationFrame(m.current),l(!1),h&&c(h-1)}),[h]),g=Object(R.useCallback)((function(e){cancelAnimationFrame(m.current),l(!1),h&&(e>=h&&(e=h-1),c(e))}),[h]),f=Object(R.useCallback)((function(){cancelAnimationFrame(m.current),l(!1)}),[]),w=Object(R.useCallback)((function(){var e=function(){return v&&v.call(performance)||(new Date).getTime()};p.current=e();!function n(){m.current=requestAnimationFrame(n);var t=(e()-p.current)/(1e3/24);h&&(r>=h-1&&(cancelAnimationFrame(m.current),l(!1)),c(r+t))}(),l(!0)}),[r,v,h]);return Object(R.useEffect)((function(){(null===n||void 0===n?void 0:n.length)>1&&n.map((function(e,t){var i,c,a,o,s,l,d,u,b,v,h=n.slice(0,t).reduce((function(e,n){return n.time&&e+n.time}),0)||0,m=(null===(i=e.picture)||void 0===i?void 0:i.children)&&(null===(c=e.picture)||void 0===c?void 0:c.children.length)-1,p=e.time||0,x=e.time&&e.time/m,O=(null===(a=e.cameraWork)||void 0===a||null===(o=a.scale)||void 0===o?void 0:o.in)||1,g=(null===(s=e.cameraWork)||void 0===s||null===(l=s.scale)||void 0===l?void 0:l.out)||1,f=r-h||1,w=O-(O-g)*f/p,z=(null===(d=e.action)||void 0===d?void 0:d.fadeInDuration)||0,y=(null===(u=e.action)||void 0===u?void 0:u.fadeOutDuration)||0,k=p-y,C=function(e){return 0<=e&&e<z?e/z:p-y<=e&&e<=p?1-(e-k)/y:1}(f);return null===(b=e.picture)||void 0===b||null===(v=b.children)||void 0===v||v.filter((function(e,n){return x?n===Math.trunc((r-h)/x|0)+1:1===n})).map((function(e){var n=document.getElementById("c".concat(t+1,"p").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(i.width*j/w,"px"),i.style.opacity=C.toString(),n.innerHTML="",n.appendChild(i),0})),0}))}),[n,r,j]),Object(R.useEffect)((function(){h&&r>=h-1&&(cancelAnimationFrame(m.current),l(!1))}),[r,h]),Object(ue.jsx)(Y.a,{direction:"column",height:"100%",children:Object(ue.jsxs)(ue.Fragment,{children:[!kt&&(null===n||void 0===n?void 0:n.length)>1&&!(null===(e=n[1])||void 0===e?void 0:e.picture)&&Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",justifyContent:"center",height:window.innerHeight-42,children:[Object(ue.jsx)(Rn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(ue.jsx)(xe.a,{children:"Now Loading..."})]}),kt&&1===(null===n||void 0===n?void 0:n.length)&&Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",justifyContent:"center",height:window.innerHeight-42,children:[Object(ue.jsx)(Rn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(ue.jsx)(xe.a,{children:"Now Loading..."})]}),(null===n||void 0===n?void 0:n.length)>1&&n.map((function(e,t){var i,c,a,o,l,d,u,b,v,m,p,z,y,k,C,S,L,I,E,F,W=n.slice(0,t-1).reduce((function(e,n){return n.time&&e+n.time}),0)||0,P=n.slice(0,t).reduce((function(e,n){return n.time&&e+n.time}),0)||0,T=n.slice(0,t+1).reduce((function(e,n){return n.time&&e+n.time}),0)||h||0,A=(null===(i=e.picture)||void 0===i?void 0:i.children)&&(null===(c=e.picture)||void 0===c?void 0:c.children.length)-1,B=(null===e||void 0===e?void 0:e.time)||0,M=B/A,N=(null===(a=e.cameraWork)||void 0===a||null===(o=a.scale)||void 0===o?void 0:o.in)||1,H=(null===(l=e.cameraWork)||void 0===l||null===(d=l.scale)||void 0===d?void 0:d.out)||1,D=r-P||1,Q=N-(N-H)*D/B,G=(null===(u=e.cameraWork)||void 0===u||null===(b=u.position)||void 0===b?void 0:b.in.x)||0,R=(null===(v=e.cameraWork)||void 0===v||null===(m=v.position)||void 0===m?void 0:m.out.x)||0,V=(null===(p=e.cameraWork)||void 0===p||null===(z=p.position)||void 0===z?void 0:z.in.y)||0,K=(null===(y=e.cameraWork)||void 0===y||null===(k=y.position)||void 0===k?void 0:k.out.y)||0,X=G-(G-R)*D/B,J=V-(V-K)*D/B,U=(null===(C=e.action)||void 0===C?void 0:C.fadeInDuration)||0,Z=(null===(S=e.action)||void 0===S?void 0:S.fadeOutDuration)||0,q=B-Z,$="Black In"===(null===(L=e.action)||void 0===L?void 0:L.fadeIn)||"Black Out"===(null===(I=e.action)||void 0===I?void 0:I.fadeOut)?function(e){return 0<=e&&e<U?e/U:B-Z<=e&&e<=B?1-(e-q)/Z:1}(D):1;return Object(ue.jsx)("div",{children:void 0!==P&&void 0!==T&&P<=r&&r<T&&(null===(E=e.picture)||void 0===E||null===(F=E.children)||void 0===F?void 0:F.filter((function(e,n){return M?n===Math.trunc((r-P)/M|0)+1:1===n})).map((function(e){return Object(ue.jsxs)("div",{children:[Object(ue.jsxs)(Y.a,{direction:"column",alignItems:"center",margin:"size-0",children:[Object(ue.jsxs)(Ct,{style:{width:"".concat(1920*j,"px")},children:[Object(ue.jsx)(St,{children:"".concat(P>24?(P/24|0)+":"+("00"+P%24).slice(-2):("00"+P).slice(-2))}),Object(ue.jsx)(xe.a,{children:"Cut".concat(("00"+(t+1)).slice(-3))}),Object(ue.jsx)(Lt,{children:"".concat(T>24?(T/24|0)+":"+("00"+T%24).slice(-2):("00"+T).slice(-2))})]}),Object(ue.jsx)("div",{style:{height:"".concat(1080*j,"px"),width:"".concat(1920*j,"px"),backgroundColor:"#000",overflow:"hidden"},children:Object(ue.jsx)("div",{style:{height:"".concat(e.canvas&&e.canvas.height*j/Q,"px"),width:"".concat(e.canvas&&e.canvas.width*j/Q,"px"),backgroundColor:"#fff",opacity:"".concat($),position:"relative",bottom:"".concat(e.canvas&&(e.canvas.height*j-1080*j*(Q-J))/2,"px"),right:"".concat(e.canvas&&(e.canvas.width*j-1920*j*(Q-X))/2,"px")},id:"c".concat(t+1,"p").concat(e.name)})})]}),Object(ue.jsx)(Y.a,{direction:"column",alignItems:"center",marginTop:"size-0",children:Object(ue.jsxs)(Ct,{style:{width:"".concat(1920*j,"px")},children:[Object(ue.jsx)(St,{children:"".concat(r>24?(r/24|0)+":"+("00"+Math.round(r)%24).slice(-2):("00"+Math.round(r)).slice(-2))}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:x,children:Object(ue.jsx)(it.a,{size:"M"})}),Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:function(){return g(W)},children:Object(ue.jsx)(ct.a,{size:"M"})}),Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:s?f:w,children:s?Object(ue.jsx)(lt.a,{size:"M"}):Object(ue.jsx)(ot.a,{size:"M"})}),Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:function(){return g(T)},children:Object(ue.jsx)(ut.a,{size:"M"})}),Object(ue.jsx)(ge.a,{isQuiet:!0,onPress:O,children:Object(ue.jsx)(bt.a,{size:"M"})})]}),Object(ue.jsx)(Lt,{children:"".concat(h>24?(h/24|0)+":"+("00"+h%24).slice(-2):("00"+h).slice(-2))})]})})]},"c".concat(t+1,"p").concat(e.name))})))},t)})),Object(ue.jsx)(Y.a,{direction:"column",width:"100%",height:"288px",marginTop:"auto",marginBottom:"size-0",gap:"size-20",position:"relative",children:Object(ue.jsx)(yt,{frame:r,timeTotal:h,setFrame:c})})]})})})),Et=$.b.div(Q||(Q=Object(J.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n  background-color: var(--spectrum-alias-appframe-border-color);\n"]))),Ft=$.b.div(G||(G=Object(J.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  grid-area: ",";\n  height: 100%;\n  overflow: hidden;\n"])),(function(e){return e.gridArea})),Wt=function(e){var n=e.children;return Object(ue.jsxs)(U.a,{theme:Z.a,children:[Object(ue.jsx)(_,{}),Object(ue.jsx)(Et,{children:Object(ue.jsx)(Y.b,{areas:["header header header","toolbar content sidebar"],columns:["size-600","auto","size-3600"],rows:["size-500","auto"],height:"100vh",gap:"size-25",children:n})})]})},Pt=function(){var e=Object(R.useGlobal)("mode")[0];return Object(ue.jsxs)(Wt,{children:[Object(ue.jsx)(Ft,{gridArea:"header",children:Object(ue.jsx)(_e,{})}),Object(ue.jsx)(Ft,{gridArea:"toolbar",children:Object(ue.jsx)(be,{})}),Object(ue.jsx)(Ft,{gridArea:"sidebar",children:Object(ue.jsx)(Gn,{})}),Object(ue.jsxs)(q.a,{gridArea:"content",children:[Object(ue.jsx)("div",{style:{display:"".concat("Edit"===e?"block":"none")},children:Object(ue.jsx)(nt,{})}),Object(ue.jsx)("div",{style:{display:"".concat("Preview"===e?"block":"none"),height:"100%"},children:Object(ue.jsx)(It,{})})]})]})},Tt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,240)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),i(e),r(e),c(e),a(e)}))},At={width:1,height:1},Bt={picture:At};Object(R.setGlobal)({mode:"Edit",tool:new Set(["Select"]),cut:Bt,globalCuts:[Bt],globalPsds:[At],globalFileName:""}),X.a.render(Object(ue.jsx)(V.a.StrictMode,{children:Object(ue.jsx)(Pt,{})}),document.getElementById("root")),Tt()}},[[233,1,2]]]);
//# sourceMappingURL=main.3d1c7ffd.chunk.js.map